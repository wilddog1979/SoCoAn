<?xml version="1.0" encoding="UTF-8"?>
<Language xmlns="http://eaSTars.com/SoCoAn/lang">

	<ComplexType id="WildcardBounds" processor="aggregating">
		<StartNode sequence="Order">
			<GroupNode sequence="Any">
				<Node type="keyword_extends"/>
				<Node type="keyword_super"/>
			</GroupNode>
			<Node id="Separator" type="Separator"/>
			<Node type="ReferenceType"/>
		</StartNode>
	</ComplexType>

	<ComplexType id="Wildcard" processor="aggregating">
		<StartNode sequence="Order">
			<GroupNode sequence="Order" occurrence="ZeroOrMore">
				<Node type="Annotation"/>
				<Node type="Separator"/>
			</GroupNode>
			<Node type="questionmark"/>
			<GroupNode sequence="Order" occurrence="ZeroOrOne">
				<Node type="Separator"/>
				<Node type="WildcardBounds"/>
			</GroupNode>
		</StartNode>
	</ComplexType>

	<ComplexType id="TypeArgument" processor="aggregating">
		<StartNode sequence="Any">
			<Node type="ReferenceType"/>
			<Node type="Wildcard"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="TypeArgumentList" processor="aggregating">
		<StartNode sequence="Order">
			<Node type="TypeArgument"/>
			<GroupNode sequence="Order" occurrence="ZeroOrMore">
				<Node type="Separator" occurrence="ZeroOrOne"/>
				<Node type="comma"/>
				<Node type="Separator" occurrence="ZeroOrOne"/>
				<Node type="TypeArgument"/>
			</GroupNode>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="TypeArguments" processor="aggregating">
		<StartNode sequence="Order">
			<Node type="lowerthan"/>
			<Node type="Separator" occurrence="ZeroOrOne"/>
			<Node type="TypeArgumentList"/>
			<Node type="Separator" occurrence="ZeroOrOne"/>
			<Node type="greaterthan"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="AnnotationIdentifierTypeAgrument" processor="fallthrough">
		<StartNode sequence="Order">
			<GroupNode sequence="Order" occurrence="ZeroOrMore">
				<Node type="Annotation"/>
				<Node type="Separator"/>
			</GroupNode>
			<Node type="Identifier"/>
			<GroupNode sequence="Order" occurrence="ZeroOrOne">
				<Node type="Separator"/>
				<Node type="TypeArguments"/>
			</GroupNode>
		</StartNode>
	</ComplexType>
	
	<!-- NOTE: ClassType declaration should be handled carefully, extraction method should be added later -->
	<ComplexType id="ClassType" processor="fallthrough">
		<StartNode sequence="Order">
			<Node type="AnnotationIdentifierTypeAgrument"/>
		</StartNode>
	</ComplexType>
	
	<!-- NOTE: InterfaceType declaration should be handled carefully, extraction method should be added later -->
	<ComplexType id="InterfaceType" processor="fallthrough">
		<StartNode sequence="Order">
			<Node type="AnnotationIdentifierTypeAgrument"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="ClassOrInterfaceType" processor="aggregating">
		<StartNode sequence="Any">
			<Node type="ClassType"/>
			<Node type="InterfaceType"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="ClassesOrInterfaces" processor="aggregating" multiple="true">
		<StartNode sequence="Order">
			<Node type="ClassOrInterfaceType"/>
			<Node type="dot"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="ClassOrInterfaceTypeCommon" processor="aggregating">
		<StartNode sequence="Order">
			<Node type="ClassesOrInterfaces" occurrence="ZeroOrOne"/>
			<Node type="AnnotationIdentifierTypeAgrument"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="TypeVariable" processor="aggregating">
		<StartNode sequence="Order">
			<GroupNode sequence="Order" occurrence="ZeroOrMore">
				<Node type="Annotation"/>
				<Node type="Separator"/>
			</GroupNode>
			<Node type="Identifier"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="Dims" processor="aggregating" multiple="true">
		<StartNode sequence="Order">
			<GroupNode sequence="Order" occurrence="ZeroOrMore">
				<Node type="Annotation"/>
				<Node type="Separator"/>
			</GroupNode>
			<Node type="squarebracket_open"/>
			<Node type="Separator" occurrence="ZeroOrOne"/>
			<Node type="squarebracket_close"/>
			<GroupNode sequence="Order" occurrence="ZeroOrMore">
				<Node type="Separator" occurrence="ZeroOrOne"/>
				<GroupNode sequence="Order" occurrence="ZeroOrMore">
					<Node type="Annotation"/>
					<Node type="Separator"/>
				</GroupNode>
				<Node type="squarebracket_open"/>
				<Node type="Separator" occurrence="ZeroOrOne"/>
				<Node type="squarebracket_close"/>
			</GroupNode>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="ArrayType" processor="aggregating">
		<StartNode sequence="Order">
			<GroupNode sequence="Any">
				<Node type="PrimitiveType"/>
				<Node type="ClassOrInterfaceTypeCommon"/>
				<Node type="TypeVariable"/>
			</GroupNode>
			<Node type="Separator" occurrence="ZeroOrOne"/>
			<Node type="Dims"/>
		</StartNode>
	</ComplexType>
	
	<ComplexType id="ReferenceType" processor="aggregating">
		<StartNode sequence="Any">
			<Node type="ArrayType"/>
			<Node type="ClassOrInterfaceTypeCommon"/>
			<Node type="TypeVariable"/>
		</StartNode>
	</ComplexType>
</Language>
